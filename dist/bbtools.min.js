/*! bbtools 29-09-2016 */
"use strict";function BBT(){this.JamesRandom=require("jamesrandom"),this.HEP=require("hephys"),this.RandBinomial=require("./BBT/Generation/Random/RandBinomial.js"),this.RandBit=require("./BBT/Generation/Random/RandBit.js"),this.RandBreitWigner=require("./BBT/Generation/Random/RandBreitWigner.js"),this.RandChiSquare=require("./BBT/Generation/Random/RandChiSquare.js"),this.RandExponential=require("./BBT/Generation/Random/RandExponential.js"),this.RandFlat=require("./BBT/Generation/Random/RandFlat.js"),this.RandGamma=require("./BBT/Generation/Random/RandGamma.js"),this.RandGauss=require("./BBT/Generation/Random/RandGauss.js"),this.RandLandau=require("./BBT/Generation/Random/RandLandau.js"),this.RandPoisson=require("./BBT/Generation/Random/RandPoisson.js"),this.RandStudentT=require("./BBT/Generation/Random/RandStudentT.js"),this.H1=require("./BBT/Visualization/H1.js")}function StirlingCorrection(a){var b=.08333333333333333,c=-.002777777777777778,d=.0007936507936507937,e=-.0005952380952380953,f=new Array(31);f=[0,.08106146679532726,.04134069595540929,.02767792568499834,.02079067210376509,.01664469118982119,.01387612882307075,.01189670994589177,.01041126526197209,.009255462182712733,.00833056343336287,.007573675487951841,.00694284010720953,.006408994188004207,.005951370112758848,.005554733551962801,.00520765591960964,.004901395948434738,.004629153749334029,.004385560249232324,.004166319691996922,.00396795421864086,.00378761806844443,.00362296022468309,.00347202138297877,.00333315563672809,.00320497022805504,.00308627868260878,.00297606398355041,.00287344936235247,.00277767492975269];var g,h;return a>30?(g=1/a,h=g*g,g*(b+h*(c+h*(d+h*e)))):f[a]}function RandBinomial(a){this.fn=a.n||1,this.fp=a.p||.5,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){return RandBinomial.GenBinomial(this.fengine,this.fn,this.fp)},this.FireArray=function(a,b){for(var c=0;c<a;c++)b.push(this.Fire())}}function RandBit(a){this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){var a=this.fengine.Flat(),b=a>.5?1:0;return b},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandBreitWigner(a){this.fmean=a.mean||1,this.fgamma=a.gamma||.2,this.fcut=a.cut||void 0,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){if(0==this.fgamma)return this.fmean;var a,b;if(a=2*this.fengine.Flat()-1,void 0===this.fcut)b=.5*this.fgamma*Math.tan(a*Math.PI*.5);else{var c;c=Math.atan(2*this.fcut/this.fgamma),b=.5*gamma*Math.tan(a*c)}return this.fmean+b},this.FireM2=function(){var a,b,c;if(0==this.fgamma)return this.fmean;if(void 0===this.fcut)return a=Math.atan(-this.fmean/this.fgamma),b=RandBreitWigner.ShootFlat({a:a,b:Math.PI/2,engine:this.fengine}),c=this.fgamma*Math.tan(b),Math.sqrt(Math.pow(this.fmean,2)+this.fmean*c);var d,e,f;return f=Math.max(0,this.fmean-this.fcut),d=Math.atan((f*f-Math.pow(this.fmean,2))/(this.fmean*this.fgamma)),e=Math.atan((Math.pow(this.fmean+this.fcut,2)-Math.pow(this.fmean,2))/(this.fmean*this.fgamma)),b=RandBreitWigner.ShootFlat({a:d,b:e,engine:this.fengine}),c=this.fgamma*Math.tan(b),Math.sqrt(Math.max(0,Math.pow(this.fmean,2)+this.fmean*c))},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandChiSquare(a){this.fa=a.a||1,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){return RandChiSquare.GenChiSquare(this.fengine,this.fa)},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandExponential(a){this.fmean=a.mean||1,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){return-Math.log(this.fengine.Flat())*this.fmean},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandFlat(a){this.fa=a.a||0,this.fb=a.b||1,this.fwidth=a.width||a.b-a.a,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){return(this.fb-this.fa)*fengine.Flat()+this.fa},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandGamma(a){this.fk=a.k||1,this.flambda=a.lambda||1,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){return RandGamma.GenGamma(this.fengine,this.fk,this.flambda)},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function RandGauss(a){this.fmean=a.mean||0,this.fstdDev=a.stdDev||1,this.fengine=a.engine||new JamesRandom({}),this.fset=!1,this.fnextGauss,this.Fire=function(){return this.Normal*this.fstdDev+this.fmean},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())},this.Normal=function(){if(this.fset)return this.fset=!1,this.fnextGauss;var a,b,c,d,e;do b=2*this.fengine.Flat()-1,c=2*this.fengine.Flat()-1,a=b*b+c*c;while(a>1);return d=Math.sqrt(-2*Math.log(a)/a),e=b*d,this.fnextGauss=e,this.fset=!0,c*d}}function RandLandau(a){a.engine||new JamesRandom({});this.Fire=function(){return RandLandau.Transform(this.fengine.Flat())},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire())}}function gammln(a){var b,c=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],d=a-1,e=d+5.5;e-=(d+.5)*Math.log(e);var f=1.000000000190015;for(b=0;b<c.length;++b)d+=1,f+=c[b]/d;return-e+Math.log(2.5066282746310007*f)}function normal(a){var b,c,d,e;do c=2*a.Flat()-1,d=2*a.Flat()-1,b=c*c+d*d;while(b>1);return e=Math.sqrt(-2*Math.log(b)/b),d*e}function RandPoisson(a){this.fmean=a.mean||1,this.fstatus=[0,0,0],this.foldm=void 0,this.fmeanMax,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){var a,b,c,d,e,f;if(d=this.fstatus[0],e=this.fstatus[1],f=this.fstatus[2],this.fmean===-1)return 0;if(this.fmean<12){this.fmean!=this.foldm&&(this.foldm=this.fmean,f=Math.exp(-this.fmean)),a=-1,b=1;do a+=1,b*=this.fengine.Flat();while(b>f)}else if(this.fmean<this.fmeanMax){this.fmean!=this.foldm&&(oldm=this.fmean,d=Math.sqrt(2*this.fmean),e=Math.log(this.fmean),f=this.fmean*e-gammln(this.fmean+1));do{do c=Math.tan(Math.PI*this.fengine.Flat()),a=d*c+this.fmean;while(a<0);a=Math.floor(a),b=.9*(1+c*c)*Math.exp(a*e-gammln(a+1)-f)}while(this.fengine.Flat()>b)}else a=this.fmean+Math.sqrt(this.fmean)*normal(sengine),(0|a)<0&&(a=(0|this.fmean)>=0?this.fmean:GetMaxMean());return this.fstatus[0]=d,this.fstatus[1]=e,this.fstatus[2]=f,0|a},this.FireArray=function(a,b){for(var c=0;c<a;++c)b.push(this.Fire(this.fmean))}}function RandStudentT(a){this.fa=a.a||1,this.fengine=a.engine||new JamesRandom({}),this.Fire=function(){var a,b,c;do a=2*this.fengine.Flat()-1,b=2*this.fengine.Flat()-1;while((c=a*a+b*b)>1);return a*Math.sqrt(this.fa*(Math.exp(-2/this.fa*Math.log(c))-1)/c)},this.FireArray=function(a,b){for(var c=0;c<a;c++)b.push(this.Fire())}}function Axis(a,b){this.name=a,this.title=b,this.fNdivisions,this.fAxisColor,this.fLabelColor,this.fLabelFont,this.fLabelOffset,this.fLabelOffset,this.fLabelSize,this.fTitleOffset,this.d3Axis=d3.svg.axis()}function H1(a,b,c,d,e){this.fDimension=1,this.name=a,this.title=b,this.nbinsx=c,this.xmin=d,this.xmax=e,this.rawData=[],this.freqData=new Array(this.nbinsx+2),this.fXaxis=new Axis("xaxishisto","Eje x en [u]"),this.fYaxis=new Axis("xaxishisto","Eje x en [u]"),this.Fill=function(a){return this.rawData.push(a)},this.FillRandom=function(a){var b=a.size||1,c=a.n||b;b=c;var d=a.vect||[],e=a.pdf||"Gauss",f=a.seed||(new Date).getDate(),g=a.pdf_mean||void 0;console.log("mean: %f",g);var h=a.pdf_stdDev||void 0;console.log("stdDev: %f",h);var i=a.pdf_a||void 0,j=a.pdf_b||void 0,k=j-i,l=a.pdf_cut||void 0,m=a.pdf_n||void 0,n=a.pdf_p||void 0,o=a.pdf_k||void 0,p=a.pdf_lambda||void 0,q=a.pdf_gamma||void 0;switch(e){case"Bit":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r};RandBit.ShootArray(s),this.rawData=d;break;case"Binomial":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,n:m,p:n};RandBinomial.ShootArray(s),this.rawData=d;break;case"BreitWigner":r=new JamesRandom({seed:f});var s={size:b,vect:d,engine:r,mean:g,gamma:q,cut:l};RandBreitWigner.ShootArray(s),this.rawData=d;break;case"ChiSquare":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,a:i};RandChiSquare.ShootArray(s),this.rawData=d;break;case"Exponential":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,mean:g};RandExponential.ShootArray(s),this.rawData=d;break;case"Flat":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,a:i,b:j,width:k};RandFlat.ShootArray(s),this.rawData=d;break;case"Gamma":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,k:o,lamda:p};RandGamma.ShootArray(s),this.rawData=d;break;case"Gauss":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,mean:g,stdDev:h};RandGauss.ShootArray(s),this.rawData=d;break;case"Landau":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r};RandLandau.ShootArray(s),this.rawData=d;break;case"Poisson":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,mean:g};RandPoisson.ShootArray(s),this.rawData=d;break;case"StudentT":var r=new JamesRandom({seed:f}),s={size:b,vect:d,engine:r,a:i};RandStudentT.ShootArray(s),this.rawData=d}},this.Prepare=function(){for(var a=this.xmin,b=(this.xmax-this.xmin)/this.nbinsx,c=a+b,d=0;d<this.freqData.length;d++)this.freqData[d]=0;for(var d=0;d<this.rawData.length;d++){a=this.xmin,c=a+b,this.rawData[d]<this.xmin&&(this.freqData[0]+=1),this.rawData[d]>=this.xmax&&(this.freqData[this.nbinsx+1]+=1);for(var e=1;e<this.freqData.length-1;e++){if(this.rawData[d]>=a&&this.rawData[d]<c){this.freqData[e]+=1;break}a=c,c+=b}}console.log(this.freqData)},this.Draw=function(){this.Prepare();var a=(this.xmax-this.xmin)/this.nbinsx,b={top:20,right:40,bottom:30,left:60},c=640-b.left-b.right,d=400-b.top-b.bottom,e=d3.select("#c1").append("svg").attr("width",c+b.left+b.right).attr("height",d+b.top+b.bottom),f=e.append("g").attr("transform","translate("+b.left+","+b.top+")"),g=d3.scale.linear().domain([this.xmin,this.xmax]).range([0,c]),h=d3.scale.linear().domain([0,d3.max(this.freqData)]).range([d,0]),i=d3.svg.axis().scale(g).orient("bottom"),j=d3.svg.axis().scale(h).orient("left"),k=f.append("g").attr("transform","translate(0,"+d+")"),l=f.append("g").attr("transform","translate(0,0)");i(k),j(l),this.freqData.forEach(function(b,c,e){c>0&&c<e.length-1&&f.append("rect").attr("x",function(){return(c-1)*g(a)}).attr("width",g(a)-2).attr("y",h(b)).attr("height",function(){return d-h(b)}).attr("fill","steelblue")})},this.GetXaxis=function(){return this.fXaxis},this.GetYaxis=function(){return this.fYaxis}}module.exports=BBT;var JamesRandom=require("jamesrandom");RandBinomial.GenBinomial=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=.3333333333333333,L=.625,M=.16666666666666666,N=20,O=-1,P=-1,Q=-1,R=-1;if(b!=O||c!=Q){if(O=b,Q=c,d=Math.min(c,1-c),g=1-d,e=b*d,e<=0)return-1;w=e+d,D=w,e<10?(f=Math.exp(b*Math.log(g)),F=e+10*Math.sqrt(e*g),C=Math.min(b,F)):(i=(b+1)*(h=d/g),j=e*g,G=2.195*Math.sqrt(j)-4.6*g,k=D+.5,l=D-G,m=D+G+1,v=(w-l)/(w-l*d),n=v*(1+.5*v),v=(m-w)/(m*g),o=v*(1+.5*v),p=.134+20.5/(15.3+D),q=G+.5,r=q*(1+p+p),s=r+p/n,t=s+p/o)}if(e<=0)return-1;if(e<10){var S;for(H=0,S=f,x=a.Flat();x>S;)++H,H>C?(x=a.Flat(),H=0,S=f):(x-=S,S=(b-H+1)*d*S/(H*g));return c>.5?b-H:H}for(;;){if(y=a.Flat(),(x=a.Flat()*t)<=q)return H=k-x+q*y,c>.5?b-H:H;if(x<=r){if(z=l+(x-q)/p,(y=y*p+1-Math.abs(k-z)/q)>=1)continue;H=z}else if(x<=s){if((z=l+Math.log(y)/n)<0)continue;H=z,y*=(x-r)*n}else{if((H=m-Math.log(y)/o)>b)continue;y*=(x-s)*o}if((I=Math.abs(H-D))<=N||I+I+2>=j){if(v=1,D<H)for(G=D;G<H&&!((v*=i/++G-h)<y););else for(G=H;G<D&&!((y*=i/++G-h)>v););if(y<=v)break}else{if(y=Math.log(y),A=-I*I/(j+j),B=I/j*((I*(I*K+L)+M)/j+.5),y<=A-B)break;if(y<=A+B&&(b==P&&d==R||(P=b,R=d,E=b-D+1,u=k*Math.log((D+1)/(h*E))+StirlingCorrection(D+1)+StirlingCorrection(E)),J=b-H+1,y<=u+(b+1)*Math.log(E/J)+(H+.5)*Math.log(J*h/(H+1))-StirlingCorrection(H+1)-StirlingCorrection(J)))break}}return c>.5?b-H:H},RandBinomial.Shoot=function(a){var b=a.n||1,c=a.p||.5,d=a.engine||new JamesRandom({});return RandBinomial.GenBinomial(d,b,c)},RandBinomial.ShootArray=function(a){for(var b=a.size||1,c=a.n||1,d=a.p||.5,e=a.engine||new JamesRandom({}),f={n:c,p:d,engine:e},g=0;g<b;++g)a.vect.push(RandBinomial.Shoot(f))},module.exports=RandBinomial;var JamesRandom=require("jamesrandom");RandBit.Shoot=function(a){var b=a.engine||new JamesRandom({}),c=b.Flat(),d=c>.5?1:0;return d},RandBit.ShootArray=function(a){for(var b=a.size||1,c=a.engine||new JamesRandom({}),d={engine:c},e=0;e<b;++e)a.vect.push(RandBit.Shoot(d))},module.exports=RandBit;var JamesRandom=require("jamesrandom");RandBreitWigner.Shoot=function(a){var b=a.mean||1,c=a.gamma||.2,d=a.cut||void 0,e=a.engine||new JamesRandom({});if(0==c)return b;var f,g;if(f=2*e.Flat()-1,void 0===d)g=.5*c*Math.tan(f*Math.PI*.5);else{var h;h=Math.atan(2*d/c),g=.5*gamma*Math.tan(f*h)}return b+g},RandBreitWigner.ShootArray=function(a){for(var b=a.size||1,c=a.mean||1,d=a.gamma||.2,e=a.cut||void 0,f=a.engine||new JamesRandom({}),g={mean:c,gamma:d,cut:e,engine:f},h=0;h<b;++h)a.vect.push(RandBreitWigner.Shoot(g))},RandBreitWigner.ShootFlat=function(a){var b=a.a||0,c=(a.b||1,a.width||a.b-a.a),d=a.engine||new JamesRandom({});return c*d.Flat()+b},RandBreitWigner.ShootM2=function(a){var b,c,d,e=a.engine||new JamesRandom({}),f=a.mean||1,g=a.gamma||.2,h=a.cut||void 0;if(0==g)return f;if(void 0===h)return b=Math.atan(-f/g),c=RandBreitWigner.ShootFlat({a:b,b:Math.PI/2,engine:e}),d=g*Math.tan(c),Math.sqrt(Math.pow(f,2)+f*d);var i,j,k;return k=Math.max(0,f-h),i=Math.atan((k*k-Math.pow(f,2))/(f*g)),j=Math.atan((Math.pow(f+h,2)-Math.pow(f,2))/(f*g)),c=RandBreitWigner.ShootFlat({a:i,b:j,engine:e}),d=g*Math.tan(c),Math.sqrt(Math.max(0,Math.pow(f,2)+f*d))},module.exports=RandBreitWigner;var JamesRandom=require("jamesrandom");RandChiSquare.Shoot=function(a){var b=a.a||1,c=a.engine||new JamesRandom({});return RandChiSquare.GenChiSquare(c,b)},RandChiSquare.ShootArray=function(a){for(var b=a.size||1,c=a.a||1,d=a.engine||new JamesRandom({}),e={a:c,engine:d},f=0;f<b;++f)a.vect.push(RandChiSquare.Shoot(e))},RandChiSquare.GenChiSquare=function(a,b){var c,d,e,f,g,h,i,j,k,l=-1;if(b<1)return-1;if(1==b){for(;;)if(g=a.Flat(),h=.857763884960707*a.Flat(),i=h/g,!(i<0)){if(j=i*i,k=2.5-j,i<0&&(k+=j*i/(3*i)),g<.3894003915*k)return i*i;if(!(j>1.036961043/g+1.4)&&2*Math.log(g)<.5*-j)return i*i}}else for(b!=l&&(c=Math.sqrt(b-1),d=-.6065306597*(1-.25/(c*c+1)),d=-c>d?-c:d,e=.6065306597*(.7071067812+c)/(.5+c),f=e-d,l=b);;)if(g=a.Flat(),h=a.Flat()*f+d,i=h/g,!(i<-c)){if(j=i*i,k=2.5-j,i<0&&(k+=j*i/(3*(i+c))),g<.3894003915*k)return(i+c)*(i+c);if(!(j>1.036961043/g+1.4)&&2*Math.log(g)<Math.log(1+i/c)*c*c-.5*j-i*c)return(i+c)*(i+c)}},module.exports=RandChiSquare;var JamesRandom=require("jamesrandom");RandExponential.Shoot=function(a){var b=a.mean||1,c=a.engine||new JamesRandom({});return-Math.log(c.Flat())*b},RandExponential.ShootArray=function(a){for(var b=a.size||1,c=a.mean||1,d=a.engine||new JamesRandom({}),e={mean:c,engine:d},f=0;f<b;++f)a.vect.push(RandExponential.Shoot(e))},module.exports=RandExponential;var JamesRandom=require("jamesrandom");RandFlat.Shoot=function(a){var b=a.a||0,c=(a.b||1,a.width||a.b-a.a),d=a.engine||new JamesRandom({});return c*d.Flat()+b},RandFlat.ShootArray=function(a){for(var b=a.size||1,c=a.a||0,d=a.b||1,e=a.width||a.b-a.a,f=a.engine||new JamesRandom({}),g={a:c,b:d,width:e,engine:f},h=0;h<b;++h)a.vect.push(RandFlat.Shoot(g))},module.exports=RandFlat;var JamesRandom=require("jamesrandom");RandGamma.GenGamma=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=-1,z=-1,A=.0416666664,B=.0208333723,C=.0079849875,D=.0015746717,E=-.0003349403,F=.0003340332,G=.0006053049,H=-.0004701849,I=171032e-9,J=.333333333,K=-.249999949,L=.199999867,M=-.166677482,N=.142873973,O=-.124385581,P=.11036831,Q=-.112750886,R=.104089866,S=1,T=.499999994,U=.166666848,V=.041664508,W=.008345522,X=.001353826,Y=247453e-9;if(b<=0)return-1;if(c<=0)return-1;if(b<1){for(d=1+.36788794412*b;;)if(n=d*a.Flat(),n<=1){if(m=Math.exp(Math.log(n)/b),Math.log(a.Flat())<=-m)return m/c}else if(m=-Math.log((d-n)/b),Math.log(a.Flat())<=(b-1)*Math.log(m))return m/c}else{b!=y&&(y=b,k=b-.5,i=Math.sqrt(k),f=5.656854249-12*i);do v=2*a.Flat()-1,w=2*a.Flat()-1,x=v*v+w*w;while(x>1);if(p=v*Math.sqrt(-2*Math.log(x)/x),u=i+.5*p,m=u*u,p>=0)return m/c;if(r=a.Flat(),f*r<=p*p*p)return m/c;if(b!=z&&(z=b,h=1/b,l=((((((((I*h+H)*h+G)*h+F)*h+E)*h+D)*h+C)*h+B)*h+A)*h,b>3.686?b>13.022?(d=1.77,j=.75,e=.1515/i):(d=1.654+.0076*k,j=1.68/i+.275,e=.062/i+.024):(d=.463+i-.178*k,j=1.235,e=.195/i-.079+.016*i)),u>0&&(s=p/(i+i),o=Math.abs(s)>.25?l-i*p+.25*p*p+(k+k)*Math.log(1+s):l+.5*p*p*((((((((R*s+Q)*s+P)*s+O)*s+N)*s+M)*s+L)*s+K)*s+J)*s,Math.log(1-r)<=o))return m/c;for(;;){do g=-Math.log(a.Flat()),r=a.Flat(),r=r+r-1,q=r>0?1:-1,p=d+g*j*q;while(p<=-.71874483771719);if(s=p/(i+i),o=Math.abs(s)>.25?l-i*p+.25*p*p+(k+k)*Math.log(1+s):l+.5*p*p*((((((((R*s+Q)*s+P)*s+O)*s+N)*s+M)*s+L)*s+K)*s+J)*s,!(o<=0)&&(t=o>.5?Math.exp(o)-1:((((((Y*o+X)*o+W)*o+V)*o+U)*o+T)*o+S)*o,e*r*q<=t*Math.exp(g-.5*p*p)))return u=i+.5*p,u*u/c}}},RandGamma.Shoot=function(a){var b=a.k||1,c=a.lambda||1,d=a.engine||new JamesRandom({});return RandGamma.GenGamma(d,b,c)},RandGamma.ShootArray=function(a){for(var b=a.size||1,c=a.k||1,d=a.lambda||1,e=a.engine||new JamesRandom({}),f={k:c,lambda:d,engine:e},g=0;g<b;++g)a.vect.push(RandGamma.Shoot(f))},module.exports=RandGamma;var JamesRandom=require("jamesrandom");RandGauss.snextGauss=0,RandGauss.sset=!1,RandGauss.GetFlag=function(){return RandGauss.sset},RandGauss.GetVal=function(){return RandGauss.snextGauss},RandGauss.SetFlag=function(a){RandGauss.sset=a},RandGauss.SetVal=function(a){RandGauss.snextGauss=a},RandGauss.ShootAux=function(a){if(RandGauss.GetFlag()){RandGauss.SetFlag(!1);var b=RandGauss.GetVal();return b}var c,d,e,f,g;do d=2*a.Flat()-1,e=2*a.Flat()-1,c=d*d+e*e;while(c>1);return f=Math.sqrt(-2*Math.log(c)/c),g=d*f,RandGauss.SetVal(g),RandGauss.SetFlag(!0),e*f},RandGauss.Shoot=function(a){var b=a.mean||0,c=a.stdDev||1,d=a.engine||new JamesRandom({}),e=RandGauss.ShootAux(d);return console.log(e*c+b),e*c+b},RandGauss.ShootArray=function(a){var b=a.size||1,c=a.mean||0;console.log("mean: %f",c);var d=a.stdDev||1;console.log("stdDev: %f",d);for(var e=a.engine||new JamesRandom({}),f={mean:c,stdDev:d,engine:e},g=0;g<b;++g)a.vect.push(RandGauss.Shoot(f))},module.exports=RandGauss;var JamesRandom=require("jamesrandom"),TABLE_INTERVAL=.001,TABLE_END=982,TABLE_MULTIPLIER=1/TABLE_INTERVAL,inverseLandau=[0,0,0,0,0,0,-2.244733,-2.204365,-2.168163,-2.135219,-2.104898,-2.07674,-2.050397,-2.025605,-2.00215,-1.979866,-1.958612,-1.938275,-1.91876,-1.899984,-1.881879,-1.864385,-1.847451,-1.83103,-1.815083,-1.799574,-1.784473,-1.769751,-1.755383,-1.741346,-1.72762,-1.714187,-1.701029,-1.68813,-1.675477,-1.663057,-1.650858,-1.638868,-1.627078,-1.615477,-1.604058,-1.592811,-1.581729,-1.570806,-1.560034,-1.549407,-1.538919,-1.528565,-1.518339,-1.508237,-1.498254,-1.488386,-1.478628,-1.468976,-1.459428,-1.449979,-1.440626,-1.431365,-1.422195,-1.413111,-1.404112,-1.395194,-1.386356,-1.377594,-1.368906,-1.360291,-1.351746,-1.343269,-1.334859,-1.326512,-1.318229,-1.310006,-1.301843,-1.293737,-1.285688,-1.277693,-1.269752,-1.261863,-1.254024,-1.246235,-1.238494,-1.2308,-1.223153,-1.21555,-1.20799,-1.200474,-1.192999,-1.185566,-1.178172,-1.170817,-1.1635,-1.15622,-1.148977,-1.14177,-1.134598,-1.127459,-1.120354,-1.113282,-1.106242,-1.099233,-1.092255,-1.085306,-1.078388,-1.071498,-1.064636,-1.057802,-1.050996,-1.044215,-1.037461,-1.030733,-1.024029,-1.01735,-1.010695,-1.004064,-.997456,-.990871,-.984308,-.977767,-.971247,-.964749,-.958271,-.951813,-.945375,-.938957,-.932558,-.926178,-.919816,-.913472,-.907146,-.900838,-.894547,-.888272,-.882014,-.875773,-.869547,-.863337,-.857142,-.850963,-.844798,-.838648,-.832512,-.82639,-.820282,-.814187,-.808106,-.802038,-.795982,-.78994,-.783909,-.777891,-.771884,-.765889,-.759906,-.753934,-.747973,-.742023,-.736084,-.730155,-.724237,-.718328,-.712429,-.706541,-.700661,-.694791,-.688931,-.683079,-.677236,-.671402,-.665576,-.659759,-.65395,-.648149,-.642356,-.63657,-.630793,-.625022,-.619259,-.613503,-.607754,-.602012,-.596276,-.590548,-.584825,-.579109,-.573399,-.567695,-.561997,-.556305,-.550618,-.544937,-.539262,-.533592,-.527926,-.522266,-.516611,-.510961,-.505315,-.499674,-.494037,-.488405,-.482777,-.477153,-.471533,-.465917,-.460305,-.454697,-.449092,-.443491,-.437893,-.432299,-.426707,-.421119,-.415534,-.409951,-.404372,-.398795,-.393221,-.387649,-.38208,-.376513,-.370949,-.365387,-.359826,-.354268,-.348712,-.343157,-.337604,-.332053,-.326503,-.320955,-.315408,-.309863,-.304318,-.298775,-.293233,-.287692,-.282152,-.276613,-.271074,-.265536,-.259999,-.254462,-.248926,-.243389,-.237854,-.232318,-.226783,-.221247,-.215712,-.210176,-.204641,-.199105,-.193568,-.188032,-.182495,-.176957,-.171419,-.16588,-.160341,-.1548,-.149259,-.143717,-.138173,-.132629,-.127083,-.121537,-.115989,-.110439,-.104889,-.099336,-.093782,-.088227,-.08267,-.077111,-.07155,-.065987,-.060423,-.054856,-.049288,-.043717,-.038144,-.032569,-.026991,-.021411,-.015828,-.010243,-.004656,934e-6,.006527,.012123,.017722,.023323,.028928,.034535,.040146,.045759,.051376,.056997,.06262,.068247,.073877,.079511,.085149,.09079,.096435,.102083,.107736,.113392,.119052,.124716,.130385,.136057,.141734,.147414,.1531,.158789,.164483,.170181,.175884,.181592,.187304,.193021,.198743,.204469,.210201,.215937,.221678,.227425,.233177,.238933,.244696,.250463,.256236,.262014,.267798,.273587,.279382,.285183,.290989,.296801,.302619,.308443,.314273,.320109,.325951,.331799,.337654,.343515,.349382,.355255,.361135,.367022,.372915,.378815,.384721,.390634,.396554,.402481,.408415,.414356,.420304,.42626,.432222,.438192,.444169,.450153,.456145,.462144,.468151,.474166,.480188,.486218,.492256,.498302,.504356,.510418,.516488,.522566,.528653,.534747,.54085,.546962,.553082,.55921,.565347,.571493,.577648,.583811,.589983,.596164,.602355,.608554,.614762,.62098,.627207,.633444,.639689,.645945,.65221,.658484,.664768,.671062,.677366,.68368,.690004,.696338,.702682,.709036,.7154,.721775,.72816,.734556,.740963,.747379,.753807,.760246,.766695,.773155,.779627,.786109,.792603,.799107,.805624,.812151,.81869,.825241,.831803,.838377,.844962,.85156,.85817,.864791,.871425,.878071,.884729,.891399,.898082,.904778,.911486,.918206,.92494,.931686,.938446,.945218,.952003,.958802,.965614,.972439,.979278,.98613,.992996,.999875,1.006769,1.013676,1.020597,1.027533,1.034482,1.041446,1.048424,1.055417,1.062424,1.069446,1.076482,1.083534,1.0906,1.097681,1.104778,1.111889,1.119016,1.126159,1.133316,1.14049,1.147679,1.154884,1.162105,1.169342,1.176595,1.183864,1.191149,1.198451,1.20577,1.213105,1.220457,1.227826,1.235211,1.242614,1.250034,1.257471,1.264926,1.272398,1.279888,1.287395,1.294921,1.302464,1.310026,1.317605,1.325203,1.332819,1.340454,1.348108,1.35578,1.363472,1.371182,1.378912,1.38666,1.394429,1.402216,1.410024,1.417851,1.425698,1.433565,1.441453,1.44936,1.457288,1.465237,1.473206,1.481196,1.489208,1.49724,1.505293,1.513368,1.521465,1.529583,1.537723,1.545885,1.554068,1.562275,1.570503,1.578754,1.587028,1.595325,1.603644,1.611987,1.620353,1.628743,1.637156,1.645593,1.654053,1.662538,1.671047,1.679581,1.688139,1.696721,1.705329,1.713961,1.722619,1.731303,1.740011,1.748746,1.757506,1.766293,1.775106,1.783945,1.79281,1.801703,1.810623,1.819569,1.828543,1.837545,1.846574,1.855631,1.864717,1.87383,1.882972,1.892143,1.901343,1.910572,1.91983,1.929117,1.938434,1.947781,1.957158,1.966566,1.976004,1.985473,1.994972,2.004503,2.014065,2.023659,2.033285,2.042943,2.052633,2.062355,2.07211,2.081899,2.09172,2.101575,2.111464,2.121386,2.131343,2.141334,2.15136,2.161421,2.171517,2.181648,2.191815,2.202018,2.212257,2.222533,2.232845,2.243195,2.253582,2.264006,2.274468,2.284968,2.295507,2.306084,2.316701,2.327356,2.338051,2.348786,2.359562,2.370377,2.381234,2.392131,2.40307,2.414051,2.425073,2.436138,2.447246,2.458397,2.469591,2.480828,2.49211,2.503436,2.514807,2.526222,2.537684,2.54919,2.560743,2.572343,2.583989,2.595682,2.607423,2.619212,2.63105,2.642936,2.654871,2.666855,2.67889,2.690975,2.70311,2.715297,2.727535,2.739825,2.752168,2.764563,2.777012,2.789514,2.80207,2.814681,2.827347,2.840069,2.852846,2.86568,2.87857,2.891518,2.904524,2.917588,2.930712,2.943894,2.957136,2.970439,2.983802,2.997227,3.010714,3.024263,3.037875,3.051551,3.06529,3.079095,3.092965,3.1069,3.120902,3.134971,3.149107,3.163312,3.177585,3.191928,3.20634,3.220824,3.235378,3.250005,3.264704,3.279477,3.294323,3.309244,3.32424,3.339312,3.354461,3.369687,3.384992,3.400375,3.415838,3.431381,3.447005,3.462711,3.4785,3.494372,3.510328,3.52637,3.542497,3.558711,3.575012,3.591402,3.607881,3.62445,3.641111,3.657863,3.674708,3.691646,3.70868,3.725809,3.743034,3.760357,3.777779,3.7953,3.812921,3.830645,3.84847,3.8664,3.884434,3.902574,3.920821,3.939176,3.95764,3.976215,3.994901,4.013699,4.032612,4.051639,4.070783,4.090045,4.109425,4.128925,4.148547,4.168292,4.18816,4.208154,4.228275,4.248524,4.268903,4.289413,4.310056,4.330832,4.351745,4.372794,4.393982,4.41531,4.436781,4.458395,4.480154,4.50206,4.524114,4.546319,4.568676,4.591187,4.613854,4.636678,4.659662,4.682807,4.706116,4.72959,4.753231,4.777041,4.801024,4.825179,4.849511,4.87402,4.89871,4.923582,4.948639,4.973883,4.999316,5.024942,5.050761,5.076778,5.102993,5.129411,5.156034,5.182864,5.209903,5.237156,5.264625,5.292312,5.32022,5.348354,5.376714,5.405306,5.434131,5.463193,5.492496,5.522042,5.551836,5.58188,5.612178,5.642734,5.673552,5.704634,5.735986,5.76761,5.799512,5.831694,5.864161,5.896918,5.929968,5.963316,5.996967,6.030925,6.065194,6.09978,6.134687,6.169921,6.205486,6.241387,6.27763,6.31422,6.351163,6.388465,6.42613,6.464166,6.502578,6.541371,6.580553,6.62013,6.660109,6.700495,6.741297,6.78252,6.824173,6.866262,6.908795,6.95178,6.995225,7.039137,7.083525,7.128398,7.173764,7.219632,7.266011,7.31291,7.360339,7.408308,7.456827,7.505905,7.555554,7.605785,7.656608,7.708035,7.760077,7.812747,7.866057,7.920019,7.974647,8.029953,8.085952,8.142657,8.200083,8.258245,8.317158,8.376837,8.4373,8.498562,8.560641,8.623554,8.687319,8.751955,8.817481,8.883916,8.951282,9.0196,9.088889,9.159174,9.230477,9.302822,9.376233,9.450735,9.526355,9.603118,9.681054,9.760191,9.840558,9.922186,10.005107,10.089353,10.174959,10.261958,10.350389,10.440287,10.531693,10.624646,10.719188,10.815362,10.913214,11.012789,11.114137,11.217307,11.322352,11.429325,11.538283,11.649285,11.76239,11.877664,11.99517,12.114979,12.237161,12.361791,12.488946,12.618708,12.751161,12.886394,13.024498,13.16557,13.309711,13.457026,13.607625,13.761625,13.919145,14.080314,14.245263,14.414134,14.587072,14.764233,14.945778,15.131877,15.322712,15.51847,15.719353,15.92557,16.137345,16.354912,16.57852,16.808433,17.044929,17.288305,17.538873,17.796967,18.062943,18.337176,18.620068,18.912049,19.213574,19.525133,19.847249,20.18048,20.525429,20.882738,21.253102,21.637266,22.036036,22.450278,22.880933,23.329017,23.795634,24.281981,24.789364,25.319207,25.873062,26.452634,27.059789,27.696581,28.365274,29.06837,29.808638,30.589157,31.413354,32.28506,33.208568,34.188705,35.23092,36.341388,37.527131,38.796172,40.157721,41.622399,43.202525,44.912465,46.769077,48.792279,51.005773,53.437996,56.123356,59.103894];RandLandau.Shoot=function(a){var b=a.engine||new JamesRandom({});return RandLandau.Transform(b.Flat())},RandLandau.ShootArray=function(a){for(var b=a.size||1,c=a.engine||new JamesRandom({}),d={engine:c},e=0;e<b;++e)a.vect.push(RandLandau.Shoot(d))},RandLandau.Transform=function(a){var b=a*TABLE_MULTIPLIER,c=0|b,d=b-c;if(c>=70&&c<=800){var e=inverseLandau[c],f=inverseLandau[c+1];return e+d*(f-e)}if(c>=7&&c<=980){var g=inverseLandau[c-1],e=inverseLandau[c],f=inverseLandau[c+1],h=inverseLandau[c+2];return e+d*(f-e-.25*(1-d)*(h-f-e+g))}if(c<7){var i=.9985895,j=34.5213058,k=34.1760202,l=17.0854528,m=4.01244582,n=Math.log(a),o=1/n,p=o*o,q=(i+j*o+l*p)/(1+k*o+m*p);return(-Math.log(-.91893853-n)-1)*q}if(c<=999){var i=1.00060006,j=263.991156,k=257.368075,l=4373.20068,m=3414.48018,o=1-a,p=o*o;return(i+j*o+l*p)/(o*(1+k*o+m*p))}var i=1.00001538,j=6075.14119,k=6065.11919,l=734266.409,m=694021.044,o=1-a,p=o*o;return(i+j*o+l*p)/(o*(1+k*o+m*p))},module.exports=RandLandau;var JamesRandom=require("jamesrandom");RandPoisson.sstatus=[void 0,void 0,void 0],RandPoisson.soldMean=void 0,RandPoisson.smeanMax=void 0,RandPoisson.GetMaxMean=function(){return RandPoisson.smeanMax},RandPoisson.GetOldMean=function(){return RandPoisson.soldMean},RandPoisson.GetSStatus=function(){return RandPoisson.sstatus},RandPoisson.SetOldMean=function(a){RandPoisson.soldMean=a},RandPoisson.Shoot=function(a){var b,c,d,e,f,g,h=a.mean||1,i=new RandPoisson(a),j=a.engine||new JamesRandom({}),k=RandPoisson.GetOldMean();if(e=i.fstatus[0],f=i.fstatus[1],g=i.fstatus[2],h===-1)return 0;if(h<12){h!=k&&(RandPoisson.SetOldMean(h),g=Math.exp(-h)),b=-1,c=1;do b+=1,c*=j.Flat();while(c>g)}else if(h<RandPoisson.GetMaxMean()){h!=k&&(RandPoisson.SetOldMean(h),e=Math.sqrt(2*h),f=Math.log(h),g=h*f-gammln(h+1));do{do d=Math.tan(Math.PI*j.Flat()),b=e*d+h;while(b<0);b=Math.floor(b),c=.9*(1+d*d)*Math.exp(b*f-gammln(b+1)-g)}while(j.Flat()>c)}else b=h+Math.sqrt(h)*normal(j),(0|b)<0&&(b=(0|h)>=0?h:RandPoisson.GetMaxMean());return RandPoisson.SetSStatus(e,f,g),0|b},RandPoisson.ShootArray=function(a){for(var b=a.size||1,c=a.mean||1,d=a.engine||new JamesRandom({}),e={mean:c,engine:d},f=0;f<b;++f)a.vect.push(RandPoisson.Shoot(e))},module.exports=RandPoisson;var JamesRandom=require("jamesrandom");RandStudentT.Shoot=function(a){var b,c,d,e=a.a,f=a.engine||new JamesRandom({});if(e<0)return Number.MAX_VALUE;do b=2*f.Flat()-1,c=2*f.Flat()-1;while((d=b*b+c*c)>1);return b*Math.sqrt(e*(Math.exp(-2/e*Math.log(d))-1)/d)},RandStudentT.ShootArray=function(a){for(var b=a.size||1,c=a.a||1,d=a.engine||new JamesRandom({}),e={a:c,engine:d},f=0;f<b;++f)a.vect.push(RandStudentT.Shoot(e))},module.exports=RandStudentT;var d3=require("../../bower_components/d3/d3.js");module.exports=Axis;var JamesRandom=require("jamesrandom"),d3=require("../../bower_components/d3/d3.js"),Axis=require("./Axis.js"),RandBinomial=require("../Generation/Random/RandBinomial.js"),RandBit=require("../Generation/Random/RandBit.js"),RandBreitWigner=require("../Generation/Random/RandBreitWigner.js"),RandChiSquare=require("../Generation/Random/RandChiSquare.js"),RandExponential=require("../Generation/Random/RandExponential.js"),RandFlat=require("../Generation/Random/RandFlat.js"),RandGamma=require("../Generation/Random/RandGamma.js"),RandGauss=require("../Generation/Random/RandGauss.js"),RandLandau=require("../Generation/Random/RandLandau.js"),RandPoisson=require("../Generation/Random/RandPoisson.js"),RandStudentT=require("../Generation/Random/RandStudentT.js");module.exports=H1;